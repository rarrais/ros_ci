<?xml version="1.0"?>
<launch>
    <!-- Add an argument to the launch file to turn on coverage -->
    <arg name="coverage" default="false"/>

    <!-- This fancy line forces nodes to generate coverage -->
    <arg name="pythontest_launch_prefix" value="$(eval 'python -m coverage run -m' if arg('coverage') else '')"/>

    <test test-name="ros_ci_test_node" pkg="ros_ci" type="test_ci.py" launch-prefix="$(arg pythontest_launch_prefix)"/>
</launch>
